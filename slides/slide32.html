</html>
<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>使いにくいヒューマンインターフェースの館</title>
    <meta name="description"
        content="高橋狩川研究室ではヒューマンインターフェースについて研究を行っています。ここでは使いにくいインターフェースをあえて体験していただくことで、研究内容に関して少しでも興味を持っていただけたら幸いです。">
    <link rel="stylesheet" type="text/css" href="../style.css">
</head>

<body>
    <div class="slide-content">
        <div class="textArea" style="position: relative; text-align: center; opacity: 0; top: 5%;">
            <div class="text" style="position: relative; font-size: 50px; opacity: 1; margin: auto;">
                来てくれてありがとう〜♪<br>
            </div>
            <div class="text" style="position: relative; font-size: 40px; opacity: 1; margin: auto;">
                (ハーモニーで)<br>
            </div>
        </div>
        <img class="ghost" src="./Images/ghost.png"
            style="width: 300px; transform: translate(-50%, -50%); opacity: 0; position: absolute; top: 55%; left: 50%; transition: opacity 2s ease-in-out;">
    </div>
    
    <script>
        window.addEventListener('DOMContentLoaded', () => {
            const text = document.querySelector('.textArea');
            const initialGhost = document.querySelector('.ghost');
            
            const numOfGhosts = 10; // 作成する画像の数

            for (let i = 1; i < numOfGhosts; i++) {
                const newGhost = initialGhost.cloneNode(true);
                const randomTop = Math.random() * 10 + 60;
                const randomLeft = Math.random() * 80 + 10;

                newGhost.style.top = `${randomTop}%`;
                newGhost.style.left = `${randomLeft}%`;

                // ランダムな遅延時間を生成 (0秒から2秒の間でランダム)
                const randomDelay = Math.random() * 2000;
                newGhost.style.animationDelay = `${randomDelay}ms`;

                // アニメーションが適用されるため、opacityを変更して表示させる
                setTimeout(() => {
                    newGhost.style.opacity = 0.9;
                }, randomDelay);

                initialGhost.parentNode.appendChild(newGhost);
            }

            const ghosts = document.getElementsByClassName('ghost')

            for (let i = 1; i < ghosts.length; i++) {
                const randomDelay = Math.random() * 1000 + 4000;
                // newGhost.style.animationDelay = `${randomDelay}ms`;

                setTimeout(() => {
                    ghosts[i].style.transition = "opacity 1s ease-in-out, width 2s ease-in-out"
                    ghosts[i].style.opacity = 0;
                    ghosts[i].style.width = "10000px"
                }, randomDelay);
            }

            setTimeout(() => {
                text.style.transition = "opacity 2s ease-in-out"
                text.style.opacity = 1;
            }, 500);

            setTimeout(() => {
                text.style.opacity = 0;
            }, 4000);

            setTimeout(() => {
                window.location.href = './slide33.html';
            }, 6000);
        });        
    </script>
</body>

</html>